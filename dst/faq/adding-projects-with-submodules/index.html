<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title> - Material Docs</title>
    <meta name="generator" content="Hugo 0.44" />

    
    <meta name="description" content="A material design theme for documentations.">
    
    <link rel="canonical" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/faq/adding-projects-with-submodules/">
    
    <meta name="author" content="Digitalcraftsman">
    

    <meta property="og:url" content="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/faq/adding-projects-with-submodules/">
    <meta property="og:title" content="Material Docs">
    <meta property="og:image" content="/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Material Docs">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('/fonts/icon.eot?52m981');
        src: url('/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('/fonts/icon.woff?52m981')
               format('woff'),
             url('/fonts/icon.ttf?52m981')
               format('truetype'),
             url('/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/stylesheets/application.css">
    <link rel="stylesheet" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/stylesheets/temporary.css">
    <link rel="stylesheet" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/stylesheets/palettes.css">
    <link rel="stylesheet" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/stylesheets/images.css">

    <link rel="stylesheet" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/javascripts/modernizr.js"></script>

    

  
    

    

    
    

    
    

    
    

    
    

    
    

    
    

    
    
    
    
    

    
    


  </head>
  <body class="palette-primary-red palette-accent-teal">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/digitalcraftsman" title="@digitalcraftsman on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/digitalcraftsman/hugo-material-docs" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/images/logo.png">
        </div>
      
      <div class="name">
        <strong>Material Docs <span class="version">1.0.0</span></strong>
        
          <br>
          digitalcraftsman/hugo-material-docs
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/digitalcraftsman/hugo-material-docs/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/digitalcraftsman/hugo-material-docs/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Getting Started" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/getting-started/">
	
	Getting Started
</a>



  
</li>



<li>
  
    



<a  title="API" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/api/">
	
	API
</a>



  
</li>



<li>
  
    



<a  title="Adding content" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/adding-content/">
	
	Adding content
</a>



  
</li>



<li>
  
    



<a  title="Roadmap" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/roadmap/">
	
	Roadmap
</a>



  
</li>



<li>
  
    



<a  title="License" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/license/">
	
	License
</a>



  
</li>



<li>
  
    



<a  title="Infrastructure" href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/infrastructure/">
	
	Infrastructure
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/digitalcraftsman" target="_blank" title="@digitalcraftsman on GitHub">
              @digitalcraftsman on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:hello@email.com" title="Email of hello@email.com">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1> </h1>

			

<h2 id="the-problem">The Problem</h2>

<p>A common issue is that you have a project, that has one or more submodules
or other private repository dependencies.</p>

<p>This means that you have to grant access to all repositories in order to make
the build successful.</p>

<p>If your git hosting service supports it, the best, most secure way is to
register <strong>the same SSH key</strong> for every repository you have to access during the build,
as &ldquo;Deployment keys&rdquo;. Due to technical reasons (true for most git hosting services),
you should not use multiple SSH keys, instead use the same SSH key for every repository!</p>

<p><strong>If your git hosting service does not support the use of a single SSH key
for multiple repositories</strong> (for example GitHub does not support this!),
you&rsquo;ll have to register the SSH key for a user account.</p>

<p>In this case (e.g. GitHub), there is an easy workaround for the issue.
Simply by adding a &ldquo;bot&rdquo; / &ldquo;machine&rdquo; user with the SSH key to the repositories
you can solve the problem. <strong>Add the SSH key you would like to use to the user and add the user to the projects</strong>.
You don&rsquo;t have to add the &ldquo;bot&rdquo; user with read and write permission,
it is enough to assign read permissions.
After that you can use the SSH key to clone to the repository or any submodule.
It&rsquo;s that simple.</p>

<p><em>On GitHub this is the recommended way to solve this problem,
they refer to these kind of users as &ldquo;machine&rdquo;
users - reference:
<a href="https://developer.github.com/guides/managing-deploy-keys/#machine-users">https://developer.github.com/guides/managing-deploy-keys/#machine-users</a>.</em></p>

<p>Of course it&rsquo;s not required to use a special &ldquo;bot&rdquo; / &ldquo;machine&rdquo; user, you can add the
SSH key to your own account on the git hosting service, but the best practice is
to use a machine user for this use case, and grant read only access for this
machine user, for those repositories you want to access during the build.</p>

<p><em>On GitLab and Bitbucket it&rsquo;s possible to register a single SSH key
as Deploy key to multiple repositories, without the need to create a &ldquo;bot&rdquo; / &ldquo;machine&rdquo; user.</em></p>

<p>!!! note &ldquo;Use SSH URLs everywhere&rdquo;
    Most services support SSH key based authentication <strong>only</strong> for SSH URLs
    (ex: <code>git@github.com:bitrise-io/bitrise.git</code>), and <strong>not</strong> for HTTPS URLs
    (ex: <code>https://github.com/bitrise-io/bitrise.git</code>)!
    This means, that <strong>every private repository you want to use have to be addressed with the SSH url</strong>.
    If you have direct private git repo references in your <code>Podfile</code> you&rsquo;ll have to
    use the SSH url there as well! Same applies for submodules and every other private
    git repository url you want to use with the SSH key you register on <a href="https://www.bitrise.io/">Bitrise.io</a>!</p>

<h2 id="how-to-do-this-when-you-add-a-new-app">How to do this when you add a new app</h2>

<p>There are three options to grant <a href="https://www.bitrise.io">Bitrise</a> access to your repository:</p>

<ul>
<li><em>Auto-add SSH keypair</em>: <strong>Don&rsquo;t use this option if you use submodules.</strong>
This option will add the SSH key only to the main repository, the one you selected
in the first section of the Add New App page.</li>
<li><em>Generate SSH keypair</em>: will generate a key for you on the <a href="https://www.bitrise.io">Bitrise</a> website
and you will have to copy it manually to the given user.
<strong>This is the recommended option if you want to use submodules / have to access multiple repositories during your build.</strong></li>
<li><em>Use your own SSH keypair</em>: can be used if you also have the private key of the given user.
You just have to paste the private key and <a href="https://www.bitrise.io">Bitrise</a> will be able to access the repositories.
If you&rsquo;d want to go with this option, it&rsquo;s important that <strong>the SSH key have to be an RSA key, without a passphrase!</strong>
You can find an example of how you can generate a key like that <a href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/faq/how-to-generate-ssh-keypair/">here</a>.</li>
</ul>

<h2 id="when-you-already-registered-your-app-on-bitrise-io">When you already registered your App on Bitrise.io</h2>

<p>When you&rsquo;ve already registered an App, the steps to handle the SSH keys are the same
as when adding a new app, the only difference is
that you&rsquo;ll have to do it on the app&rsquo;s <code>Settings</code> tab.</p>

<p>You can find the public SSH key of the app in the <code>Settings</code> of the given
app on <a href="https://www.bitrise.io">Bitrise</a>. Simply scroll down to the &ldquo;SSH settings&rdquo; section
and click &ldquo;Show SSH Public Key&rdquo;.</p>

<p>Copy the key to the given user and you are ready to build!
Or you can also update the given app&rsquo;s SSH key by clicking the &ldquo;Change SSH Keypair&rdquo; button
and choosing one of the three options, just like on the &ldquo;Add new App&rdquo; page.</p>

<h2 id="service-specific-notes-guides">Service specific notes / guides</h2>

<h3 id="github">Github</h3>

<p><em>Don&rsquo;t add the key to the repository as a Deploy Key!</em>
Add it to a GiHub User&rsquo;s account instead, who has access to the repositories.
The recommended way is to use a <a href="https://developer.github.com/guides/managing-deploy-keys/#machine-users">&ldquo;machine&rdquo; user</a>,
but of course you&rsquo;re free to add it to any user account which has
at least read only access to all of the repositories used during the build.</p>


			<aside class="copyright" role="note">
				
				&copy; 2018 Released under the MIT license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/docker/" title="">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/faq/android-x86-emulator/" title="">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'http:\/\/demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com\/';
      var repo_id  = 'digitalcraftsman\/hugo-material-docs';
    
    </script>

    <script src="http://demo.devcenter.bitrise.io.s3-website-us-east-1.amazonaws.com/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

